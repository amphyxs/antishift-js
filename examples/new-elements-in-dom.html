<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog Posts Simulation</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }

      .container {
        background-color: white;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        color: #333;
        text-align: center;
      }

      .posts-container {
        margin-bottom: 20px;
      }

      .post {
        background-color: #f9f9f9;
        border-left: 4px solid #007cba;
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 4px;
      }

      .post-title {
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 8px;
        color: #333;
      }

      .post-content {
        color: #666;
        line-height: 1.5;
      }

      .post-date {
        font-size: 12px;
        color: #999;
        margin-top: 8px;
      }

      .load-more-btn {
        background-color: #007cba;
        color: white;
        border: none;
        padding: 12px 24px;
        font-size: 16px;
        border-radius: 4px;
        cursor: pointer;
        display: block;
        margin: 20px auto;
        transition: background-color 0.3s;
      }

      .load-more-btn:hover {
        background-color: #005a87;
      }

      .loading {
        text-align: center;
        color: #666;
        font-style: italic;
        margin: 10px 0;
      }

      .button-explanation {
        background-color: #e7f3ff;
        border-left: 4px solid #007cba;
        padding: 15px;
        margin: 20px 0;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Blog Posts Simulation</h1>

      <div class="button-explanation">
        <p>
          <strong>How it works:</strong> Click the "Load More Posts" button to
          simulate loading new blog posts. Notice how the new posts push the
          button down as they are added to the DOM.
        </p>
      </div>

      <div class="posts-container" id="postsContainer">
        <!-- Initial posts will be loaded here -->
      </div>

      <div id="loadingIndicator" class="loading" style="display: none">
        Loading new posts... (simulated 2 second delay)
      </div>

      <button id="loadMoreBtn" class="load-more-btn">Load More Posts</button>
    </div>

    <script>
      // Sample blog post data
      const samplePosts = [
        {
          title: "Understanding JavaScript Closures",
          content:
            "Closures are a fundamental concept in JavaScript that allow functions to have private variables. They're created every time a function is created, at function creation time.",
          date: "January 15, 2023",
        },
        {
          title: "CSS Grid vs Flexbox: When to Use Which",
          content:
            "Both CSS Grid and Flexbox are powerful layout tools, but they serve different purposes. Grid is best for two-dimensional layouts, while Flexbox excels at one-dimensional layouts.",
          date: "February 3, 2023",
        },
        {
          title: "The Rise of Progressive Web Apps",
          content:
            "Progressive Web Apps combine the best of web and mobile applications, offering users an app-like experience directly in their browsers with offline capabilities.",
          date: "March 12, 2023",
        },
        {
          title: "Modern State Management in React",
          content:
            "State management has evolved significantly in React. From useState to useContext, and now with libraries like Redux Toolkit and Zustand, developers have many options.",
          date: "April 22, 2023",
        },
        {
          title: "Web Performance Optimization Techniques",
          content:
            "Performance is crucial for user experience. Techniques like lazy loading, code splitting, and image optimization can significantly improve your site's loading times.",
          date: "May 5, 2023",
        },
      ];

      // DOM elements
      const postsContainer = document.getElementById("postsContainer");
      const loadMoreBtn = document.getElementById("loadMoreBtn");
      const loadingIndicator = document.getElementById("loadingIndicator");

      // Track which posts have been loaded
      let loadedPostIndex = 0;

      // Function to create a post element
      function createPostElement(post) {
        const postElement = document.createElement("div");
        postElement.className = "post";

        postElement.innerHTML = `
                <div class="post-title">${post.title}</div>
                <div class="post-content">${post.content}</div>
                <div class="post-date">Published on ${post.date}</div>
            `;

        return postElement;
      }

      // Function to load posts with simulated delay
      function loadPosts(count = 2) {
        // Show loading indicator
        loadingIndicator.style.display = "block";
        loadMoreBtn.disabled = true;

        // Simulate network delay (2 seconds)
        setTimeout(() => {
          // Hide loading indicator
          loadingIndicator.style.display = "none";
          loadMoreBtn.disabled = false;

          // Add new posts to the DOM
          for (let i = 0; i < count; i++) {
            // Cycle through sample posts
            const postIndex = loadedPostIndex % samplePosts.length;
            const postElement = createPostElement(samplePosts[postIndex]);
            postsContainer.appendChild(postElement);
            loadedPostIndex++;
          }
        }, 2000); // 2 second delay
      }

      // Load initial posts
      loadPosts(3);

      // Event listener for the load more button
      loadMoreBtn.addEventListener("click", () => {
        loadPosts(2);
      });
    </script>
    <script src="../src/index.js"></script>
  </body>
</html>
